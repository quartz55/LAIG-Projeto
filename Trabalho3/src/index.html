<!DOCTYPE html>
<html>

<head lang="en">
    <meta charset="UTF-8">
    <title>CGFexample</title>

    <style>
        body,
        html {
            border: 0;
            padding: 0;
            margin: 0;
            overflow: hidden;
        }
        canvas {
            width: 100%;
            height: 100%;
        }
    </style>
</head>

<body>
    <script type="text/javascript">
        function getPrologRequest(requestString, onSuccess, onError, port) {
            var requestPort = port || 8081
            var request = new XMLHttpRequest();
            request.open('GET', 'http://localhost:' + requestPort + '/' + requestString, true);

            request.onload = onSuccess || function(data) {
                console.log("Request successful. Reply: " + data.target.response);
            };
            request.onerror = onError || function() {
                console.log("Error waiting for response");
            };

            request.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded; charset=UTF-8');
            request.send();
        }

        function makeRequest(req, handler) {
            console.log("Making request");
            getPrologRequest(req, handler);
        }
    </script>
    <script src="main.js"></script>

</body>

</html>
